{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC5C,MAAMC,EAAOF,SAASG,eAAe,eAC/BC,EAAUJ,SAASK,cAAc,YACjCC,EAAcN,SAASK,cAAc,cAC3C,IAAIE,EAAO,EAGX,IAAIC,GAAc,EAmBlBC,eAAeC,EAAaC,GAC1B,IACE,MAAMC,QAAiBC,MACrB,qEAA4CF,kEAAsEJ,iBAGpH,IAAKK,EAASE,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMC,QAAaJ,EAASK,OAExBD,EAAKE,KAAKC,OAAS,GACR,IAATZ,IACFH,EAAQgB,UAAY,IAGtBJ,EAAKE,KAAKG,SAAQC,IAChB,MAAMC,EA8Bd,SAAyBD,GACvB,MAAMC,EAAOvB,SAASwB,cAAc,OACpCD,EAAKE,UAAUC,IAAI,cAEnB,MAAMC,EAAM3B,SAASwB,cAAc,OACnCG,EAAIC,IAAMN,EAAMO,aAChBF,EAAIG,IAAMR,EAAMS,KAChBJ,EAAIK,QAAU,OAEdL,EAAIM,aAAa,WAAYX,EAAMY,eAEnCP,EAAIF,UAAUC,IAAI,qBAElB,MAAMS,EAAOnC,SAASwB,cAAc,OACpCW,EAAKV,UAAUC,IAAI,QAEnB,MAAMU,EAAQpC,SAASwB,cAAc,KACrCY,EAAMX,UAAUC,IAAI,aACpBU,EAAMhB,UAAY,iBAAiBE,EAAMc,QAEzC,MAAMC,EAAQrC,SAASwB,cAAc,KACrCa,EAAMZ,UAAUC,IAAI,aACpBW,EAAMjB,UAAY,iBAAiBE,EAAMe,QAEzC,MAAMC,EAAWtC,SAASwB,cAAc,KACxCc,EAASb,UAAUC,IAAI,aACvBY,EAASlB,UAAY,oBAAoBE,EAAMgB,WAE/C,MAAMC,EAAYvC,SAASwB,cAAc,KAYzC,OAXAe,EAAUd,UAAUC,IAAI,aACxBa,EAAUnB,UAAY,qBAAqBE,EAAMiB,YAEjDJ,EAAKK,YAAYJ,GACjBD,EAAKK,YAAYH,GACjBF,EAAKK,YAAYF,GACjBH,EAAKK,YAAYD,GAEjBhB,EAAKiB,YAAYb,GACjBJ,EAAKiB,YAAYL,GAEVZ,C,CAtEYkB,CAAgBnB,GAC7BlB,EAAQoC,YAAYjB,EAAK,IAvCjB,GA0CNhB,EAAiBS,EAAK0B,UACxBpC,EAAYqC,MAAMC,QAAU,SAE5BtC,EAAYqC,MAAMC,QAAU,OAC5BC,EACE,+DAKHC,aAAY1C,EAAS,CACpB2C,SAAU,uBAIZF,EAAiB,oBAAoB7B,EAAK0B,sBAE1CG,EACE,2E,CAGJ,MAAOG,GACPC,QAAQD,MAAM,yBAA0BA,E,EA+C5C,SAASH,EAAiBK,GACxBC,SAASC,OAAOC,KAAKH,E,CA7GvBhD,EAAKD,iBAAiB,UAAU,SAAUqD,GACxCA,EAAEC,iBACF,MAAMC,EAActD,EAAKsD,YAAYC,MAAMC,OAEvB,KAAhBF,IACFjD,EAAO,EACPC,GAAc,EACdE,EAAa8C,G,IAIjBlD,EAAYL,iBAAiB,SAAS,WACpC,MAAMuD,EAActD,EAAKsD,YAAYC,MAAMC,OAC3CnD,IACAG,EAAa8C,E,IAkGflD,EAAYqC,MAAMC,QAAU,OAE5B1C,EAAKD,iBAAiB,UAAU,WAC1BO,IACFF,EAAYqC,MAAMC,QAAU,Q","sources":["src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const form = document.getElementById('search-form');\n  const gallery = document.querySelector('.gallery');\n  const loadMoreBtn = document.querySelector('.load-more');\n  let page = 1;\n  const apiKey = '41180039-5593941cf655dc817cda9c37b';\n  const perPage = 40;\n  let hasSearched = false;\n\n  form.addEventListener('submit', function (e) {\n    e.preventDefault();\n    const searchQuery = form.searchQuery.value.trim();\n\n    if (searchQuery !== '') {\n      page = 1;\n      hasSearched = true;\n      searchImages(searchQuery);\n    }\n  });\n\n  loadMoreBtn.addEventListener('click', function () {\n    const searchQuery = form.searchQuery.value.trim();\n    page++;\n    searchImages(searchQuery);\n  });\n\n  async function searchImages(query) {\n    try {\n      const response = await fetch(\n        `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`\n      );\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await response.json();\n\n      if (data.hits.length > 0) {\n        if (page === 1) {\n          gallery.innerHTML = '';\n        }\n\n        data.hits.forEach(image => {\n          const card = createImageCard(image);\n          gallery.appendChild(card);\n        });\n\n        if (page * perPage < data.totalHits) {\n          loadMoreBtn.style.display = 'block';\n        } else {\n          loadMoreBtn.style.display = 'none';\n          showNotification(\n            `We're sorry, but you've reached the end of search results.`\n          );\n        }\n\n        // Dodaj lightgallery do obrazów\n        lightGallery(gallery, {\n          selector: '.lg-zoom-thumbnail',\n        });\n\n        // Wyświetl powiadomienie o liczbie znalezionych obrazków\n        showNotification(`Hooray! We found ${data.totalHits} images.`);\n      } else {\n        showNotification(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      }\n    } catch (error) {\n      console.error('Error fetching images:', error);\n    }\n  }\n\n  function createImageCard(image) {\n    const card = document.createElement('div');\n    card.classList.add('photo-card');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.loading = 'lazy';\n\n    img.setAttribute('data-src', image.largeImageURL);\n\n    img.classList.add('lg-zoom-thumbnail');\n\n    const info = document.createElement('div');\n    info.classList.add('info');\n\n    const likes = document.createElement('p');\n    likes.classList.add('info-item');\n    likes.innerHTML = `<b>Likes:</b> ${image.likes}`;\n\n    const views = document.createElement('p');\n    views.classList.add('info-item');\n    views.innerHTML = `<b>Views:</b> ${image.views}`;\n\n    const comments = document.createElement('p');\n    comments.classList.add('info-item');\n    comments.innerHTML = `<b>Comments:</b> ${image.comments}`;\n\n    const downloads = document.createElement('p');\n    downloads.classList.add('info-item');\n    downloads.innerHTML = `<b>Downloads:</b> ${image.downloads}`;\n\n    info.appendChild(likes);\n    info.appendChild(views);\n    info.appendChild(comments);\n    info.appendChild(downloads);\n\n    card.appendChild(img);\n    card.appendChild(info);\n\n    return card;\n  }\n\n  function showNotification(message) {\n    Notiflix.Notify.Info(message);\n  }\n\n  loadMoreBtn.style.display = 'none';\n\n  form.addEventListener('change', function () {\n    if (hasSearched) {\n      loadMoreBtn.style.display = 'block';\n    }\n  });\n});\n"],"names":["document","addEventListener","form","getElementById","gallery","querySelector","loadMoreBtn","page","hasSearched","async","searchImages","query","response","fetch","ok","Error","data","json","hits","length","innerHTML","forEach","image","card","createElement","classList","add","img","src","webformatURL","alt","tags","loading","setAttribute","largeImageURL","info","likes","views","comments","downloads","appendChild","createImageCard","totalHits","style","display","showNotification","lightGallery","selector","error","console","message","Notiflix","Notify","Info","e","preventDefault","searchQuery","value","trim"],"version":3,"file":"index.82c9859c.js.map"}